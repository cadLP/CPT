
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Welcome to CPT’s documentation! &#8212; CPT 0.0.1 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="welcome-to-cpt-s-documentation">
<h1>Welcome to CPT’s documentation!<a class="headerlink" href="#welcome-to-cpt-s-documentation" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
</div>
<div class="section" id="cpt-faz-spider">
<h1>CPT FAZ spider<a class="headerlink" href="#cpt-faz-spider" title="Permalink to this headline">¶</a></h1>
</div>
<div class="section" id="module-cpt.spiders.heise">
<span id="cpt-heise-online-spider"></span><h1>CPT  heise online spider<a class="headerlink" href="#module-cpt.spiders.heise" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-heise"></span><dl class="class">
<dt id="cpt.spiders.heise.HeiseSpider">
<em class="property">class </em><code class="sig-prename descclassname">cpt.spiders.heise.</code><code class="sig-name descname">HeiseSpider</code><span class="sig-paren">(</span><em class="sig-param">cat_list=[]</em>, <em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cpt/spiders/heise.html#HeiseSpider"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cpt.spiders.heise.HeiseSpider" title="Permalink to this definition">¶</a></dt>
<dd><p>This class implements the spider for crawling the website heise.de</p>
<dl class="method">
<dt id="cpt.spiders.heise.HeiseSpider.create_connection">
<code class="sig-name descname">create_connection</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cpt/spiders/heise.html#HeiseSpider.create_connection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cpt.spiders.heise.HeiseSpider.create_connection" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a connection to the predefined database.</p>
</dd></dl>

<dl class="method">
<dt id="cpt.spiders.heise.HeiseSpider.parse">
<code class="sig-name descname">parse</code><span class="sig-paren">(</span><em class="sig-param">response</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cpt/spiders/heise.html#HeiseSpider.parse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cpt.spiders.heise.HeiseSpider.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>The parse method processes the index pages of the chosen categories. Every link directing to an article will be
extracted and yielded for further processing.
:param response:
:return:</p>
</dd></dl>

<dl class="method">
<dt id="cpt.spiders.heise.HeiseSpider.parse_article">
<code class="sig-name descname">parse_article</code><span class="sig-paren">(</span><em class="sig-param">response</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cpt/spiders/heise.html#HeiseSpider.parse_article"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cpt.spiders.heise.HeiseSpider.parse_article" title="Permalink to this definition">¶</a></dt>
<dd><p>This method extracts the plain text and mete information of the article.
It uses xpath expressions to get the information from the data which is stored in the response object.
:param response:
:return:</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="cpt-sueddeutsche-spider">
<h1>CPT Sueddeutsche spider<a class="headerlink" href="#cpt-sueddeutsche-spider" title="Permalink to this headline">¶</a></h1>
</div>
<div class="section" id="module-cpt.spiders.Wiwo">
<span id="cpt-wirtschaftswoche-spider"></span><h1>CPT Wirtschaftswoche spider<a class="headerlink" href="#module-cpt.spiders.Wiwo" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-Wiwo"></span><dl class="class">
<dt id="cpt.spiders.Wiwo.WiwoSpider">
<em class="property">class </em><code class="sig-prename descclassname">cpt.spiders.Wiwo.</code><code class="sig-name descname">WiwoSpider</code><span class="sig-paren">(</span><em class="sig-param">cat_list=[]</em>, <em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cpt/spiders/Wiwo.html#WiwoSpider"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cpt.spiders.Wiwo.WiwoSpider" title="Permalink to this definition">¶</a></dt>
<dd><p>This class creates the Spider for the crawler of the Wirtschaftswoche.</p>
<dl class="method">
<dt id="cpt.spiders.Wiwo.WiwoSpider.parse">
<code class="sig-name descname">parse</code><span class="sig-paren">(</span><em class="sig-param">response</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cpt/spiders/Wiwo.html#WiwoSpider.parse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cpt.spiders.Wiwo.WiwoSpider.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>In this function we extract the links to the subcategories based on the start url page and follow each link
to the subcategories the x-path expression finds.</p>
</dd></dl>

<dl class="method">
<dt id="cpt.spiders.Wiwo.WiwoSpider.parsearticle">
<code class="sig-name descname">parsearticle</code><span class="sig-paren">(</span><em class="sig-param">response</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cpt/spiders/Wiwo.html#WiwoSpider.parsearticle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cpt.spiders.Wiwo.WiwoSpider.parsearticle" title="Permalink to this definition">¶</a></dt>
<dd><p>This function collects all relevant article information to store in the database. All articles (except
picture galleries, in which we are not interested) contains an ld+json object in their source code. This
object contains the majority of data we are looking for (including date_published, date_modified, author,
publisher, images and keywords). For the images we only store the corresponding link. If there are several
authors, publishers, images or keywords we convert the given list into a string. The title is extracted directly
from the source code. The article body is combined of the several paragraphs extracted by a x-path expression. To
avoid losing information included in the text linked to another page we remove the HTML-tags and substitute them
with “” using a regular expression. The category is chosen falling back on the dictionary ‘categories’ and
for articles in subcategory not consistently following main category the longest link will be chosen.
The metadata will be written into a scrapy item element.
To reveal the payment status of the article we follow a x-path expression and scrape only the
articles, which are freely accessible. Some articles are divided into more than one page. If this is tha case
we follow the link to the button “Artikel auf einer Seite” and the whole content will be shown on one page,
which we scrape like one-page articles and the item element will be the end result.
:param response: A Response object represents an HTTP response, which is usually downloaded (by the Downloader)
and fed to the Spiders for processing
:type response: dict</p>
</dd></dl>

<dl class="method">
<dt id="cpt.spiders.Wiwo.WiwoSpider.parsecontent">
<code class="sig-name descname">parsecontent</code><span class="sig-paren">(</span><em class="sig-param">response</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cpt/spiders/Wiwo.html#WiwoSpider.parsecontent"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cpt.spiders.Wiwo.WiwoSpider.parsecontent" title="Permalink to this definition">¶</a></dt>
<dd><p>This function is called after the parse function and we extract and follow the links of each article
using an x-path expression which loops over the several subcategories. In case the subcategory has more
than one page of articles, an x-path expression follows the link to the next page and extracts the
articles from there.
:param response: A Response object represents an HTTP response, which is usually downloaded (by the Downloader) and fed to the Spiders for processing
:type response: dict</p>
</dd></dl>

</dd></dl>

</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="#">CPT</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="#">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, Tristan Dietz.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.4.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/index.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>